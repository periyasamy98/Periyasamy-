<!DOCTYPE html><html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Professional AI Resume Builder</title>
  <style>
    :root{
      --bg-1: #0f1724;
      --bg-2: linear-gradient(135deg,#0f1724 0%, #102a43 100%);
      --accent: #0b74ff;
      --accent-2: #00c2a8;
      --card: #0b1220;
      --muted: #9aa4b2;
      --paper: #ffffff;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, Arial;
      background: var(--bg-2);
      color: white;
      padding:20px;
      -webkit-font-smoothing:antialiased;
    }
    .wrap{
      max-width:1200px;
      margin:0 auto;
      display:grid;
      grid-template-columns: 420px 1fr;
      gap:18px;
      align-items:start;
    }
    .card{
      background: rgba(255,255,255,0.04);
      padding:14px;
      border-radius:12px;
      box-shadow: 0 8px 30px rgba(2,6,23,0.6);
      min-height:120px;
    }
    h1{font-size:18px;margin:0 0 8px 0}
    label{display:block;font-size:13px;color:var(--muted);margin-top:10px}
    input[type=text], input[type=email], input[type=tel], textarea, select{
      width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:#fff;margin-top:6px;font-size:14px
    }
    textarea{min-height:70px;resize:vertical}
    .row{display:flex;gap:8px}
    .btn{background:var(--accent);color:#fff;padding:10px 12px;border-radius:8px;border:0;cursor:pointer;font-weight:600}
    .btn.secondary{background:transparent;border:1px solid rgba(255,255,255,0.06)}
    .small{font-size:12px;color:var(--muted)}
    /* dynamic lists */
    .list{margin-top:8px}
    .list-item{display:flex;gap:8px;align-items:center;margin-bottom:8px}
    .chip{background:rgba(255,255,255,0.06);padding:6px 8px;border-radius:999px;font-size:13px}/* Resume preview */
.preview-outer{overflow:auto;max-height:82vh;padding:12px}
.resume{
  width:800px;max-width:100%;background:var(--paper);color:#0b1220;border-radius:10px;padding:22px;box-shadow:0 10px 40px rgba(2,6,23,0.2);margin:12px auto;font-size:14px
}
.r-head{display:flex;gap:18px;align-items:center}
.avatar{width:90px;height:90px;border-radius:12px;background:#f1f5f9;display:flex;align-items:center;justify-content:center;overflow:hidden}
.r-name{font-size:22px;font-weight:700}
.r-role{color:#4b5563}
.r-contact{font-size:13px;color:#6b7280;margin-top:6px}
.section{margin-top:14px}
.section-title{font-weight:700;color:#0b1220;margin-bottom:8px}
.skill-list{display:flex;flex-wrap:wrap;gap:8px}
.skill-pill{background:#eef2ff;padding:6px 8px;border-radius:999px;font-size:13px;color:#0b1220}
.two-col{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.meta{font-size:13px;color:#374151}

/* theme dark resume (for contrast preview option) */
.darkResume{background:#0b1220;color:#e6eef6}
.darkResume .skill-pill{background:rgba(255,255,255,0.08);color:#e6eef6}

/* responsive */
@media (max-width:980px){.wrap{grid-template-columns:1fr}.preview-outer{max-height:none}}

  </style>
</head>
<body>
  <div class="wrap">
    <!-- Left: Form Inputs -->
    <div class="card">
      <h1>Professional AI Resume Builder</h1>
      <div class="small">Fill details — preview updates live. Add multiple entries for Projects, Certifications, References.</div><label>Profile Picture</label>
  <input type="file" id="photoInput" accept="image/*">

  <label>Full Name</label>
  <input type="text" id="name" placeholder="Ex: Tharun K.R." />

  <label>Professional Title</label>
  <input type="text" id="title" placeholder="Ex: C++ Developer | BCA Student" />

  <div class="row">
    <div style="flex:1">
      <label>Email</label>
      <input type="email" id="email" placeholder="you@example.com" />
    </div>
    <div style="flex:1">
      <label>Phone</label>
      <input type="tel" id="phone" placeholder="+91 98765 43210" />
    </div>
  </div>

  <label>Career Objective / Summary</label>
  <textarea id="summary" placeholder="Short 2–3 line professional summary..."></textarea>

  <label>Education (one per line: Degree | Institution | Year)</label>
  <textarea id="education" placeholder="BCA — Loyola College — 2023 - Present"></textarea>

  <label>Skills (comma separated)</label>
  <input type="text" id="skills" placeholder="C++, HTML, CSS, JavaScript, Git" />

  <label>Languages (comma separated)</label>
  <input type="text" id="languages" placeholder="Tamil, English" />

  <label>Projects</label>
  <div id="projectsList" class="list"></div>
  <div style="display:flex;gap:8px;margin-top:8px">
    <input type="text" id="projTitle" placeholder="Project title" style="flex:1">
    <input type="text" id="projDesc" placeholder="Short description" style="flex:2">
    <button class="btn" id="addProject">Add</button>
  </div>

  <label>Certifications</label>
  <div id="certList" class="list"></div>
  <div style="display:flex;gap:8px;margin-top:8px">
    <input type="text" id="certName" placeholder="Certification name" style="flex:1">
    <input type="text" id="certOrg" placeholder="Organization" style="flex:1">
    <button class="btn" id="addCert">Add</button>
  </div>

  <label>Achievements / Awards (one per line)</label>
  <textarea id="achievements" placeholder="Won 1st prize in Coding Contest — 2024"></textarea>

  <label>References</label>
  <div id="refList" class="list"></div>
  <div style="display:flex;gap:8px;margin-top:8px">
    <input type="text" id="refName" placeholder="Ref name" style="flex:1">
    <input type="text" id="refPos" placeholder="Designation / Contact" style="flex:1">
    <button class="btn" id="addRef">Add</button>
  </div>

  <label>Hobbies / Interests</label>
  <input type="text" id="hobbies" placeholder="Reading, Football" />

  <div style="display:flex;gap:8px;margin-top:12px">
    <button class="btn" id="downloadPdf">Download PDF</button>
    <button class="btn secondary" id="toggleTheme">Toggle Resume Theme</button>
    <button class="btn secondary" id="clearAll">Clear</button>
  </div>

  <div style="margin-top:10px;font-size:12px;color:var(--muted)">Extras: QR code, AI sentence suggestions, save/load can be added (server required for save/load).</div>
</div>

<!-- Right: Live Preview -->
<div class="card preview-outer">
  <div id="previewWrap">
    <div id="resume" class="resume">
      <div class="r-head">
        <div class="avatar" id="avatarPreview"> <img id="avatarImg" src="" alt="" style="width:100%;height:100%;object-fit:cover;display:none"/> <svg id="avatarIcon" width="40" height="40" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 12C14.7614 12 17 9.76142 17 7C17 4.23858 14.7614 2 12 2C9.23858 2 7 4.23858 7 7C7 9.76142 9.23858 12 12 12Z" stroke="#94a3b8" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/><path d="M3 21C3 16.5817 7.02944 13 12 13C16.9706 13 21 16.5817 21 21" stroke="#94a3b8" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
        <div style="flex:1">
          <div class="r-name" id="rName">Your Name</div>
          <div class="r-role" id="rRole">Professional Title</div>
          <div class="r-contact" id="rContact">you@example.com • +91 98765 43210</div>
        </div>
      </div>

      <div class="section">
        <div class="section-title">Career Objective</div>
        <div id="rSummary" class="meta">Short professional summary will appear here.</div>
      </div>

      <div class="section two-col">
        <div>
          <div class="section-title">Education</div>
          <div id="rEducation" class="meta">BCA — Loyola College — 2023 - Present</div>

          <div class="section-title" style="margin-top:12px">Projects</div>
          <div id="rProjects" class="meta"></div>

          <div class="section-title" style="margin-top:12px">Certifications</div>
          <div id="rCerts" class="meta"></div>

        </div>
        <div>
          <div class="section-title">Skills</div>
          <div id="rSkills" class="skill-list"></div>

          <div class="section-title" style="margin-top:10px">Languages</div>
          <div id="rLanguages" class="meta"></div>

          <div class="section-title" style="margin-top:10px">Achievements</div>
          <div id="rAchievements" class="meta"></div>

        </div>
      </div>

      <div class="section">
        <div class="section-title">References</div>
        <div id="rRefs" class="meta"></div>
      </div>

      <div class="section" style="display:flex;justify-content:space-between;align-items:center">
        <div class="meta">Hobbies: <span id="rHobbies">-</span></div>
        <div class="meta">Generated with Professional AI Resume Builder</div>
      </div>
    </div>
  </div>
</div>

  </div>  <!-- libs -->  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>  <script>
    // elements
    const fields = ['name','title','email','phone','summary','education','skills','languages','achievements','hobbies'];
    const elems = {};
    fields.forEach(f=> elems[f] = document.getElementById(f));

    // preview targets
    const rName = document.getElementById('rName');
    const rRole = document.getElementById('rRole');
    const rContact = document.getElementById('rContact');
    const rSummary = document.getElementById('rSummary');
    const rEducation = document.getElementById('rEducation');
    const rSkills = document.getElementById('rSkills');
    const rLanguages = document.getElementById('rLanguages');
    const rProjects = document.getElementById('rProjects');
    const rCerts = document.getElementById('rCerts');
    const rAchievements = document.getElementById('rAchievements');
    const rRefs = document.getElementById('rRefs');
    const rHobbies = document.getElementById('rHobbies');

    // avatar
    const photoInput = document.getElementById('photoInput');
    const avatarImg = document.getElementById('avatarImg');
    const avatarIcon = document.getElementById('avatarIcon');

    // lists
    const projectsList = document.getElementById('projectsList');
    const certList = document.getElementById('certList');
    const refList = document.getElementById('refList');

    const addProject = document.getElementById('addProject');
    const addCert = document.getElementById('addCert');
    const addRef = document.getElementById('addRef');

    // storage arrays
    let projects = [];
    let certs = [];
    let refs = [];
    let dark = false;

    // helper to create list item in form
    function createListItem(container, text, idx, onRemove){
      const div = document.createElement('div');
      div.className = 'list-item';
      const span = document.createElement('div');
      span.className = 'chip';
      span.textContent = text;
      const rm = document.createElement('button');
      rm.className = 'btn secondary';
      rm.textContent = 'Remove';
      rm.addEventListener('click', ()=>{ onRemove(idx); });
      div.appendChild(span); div.appendChild(rm);
      container.appendChild(div);
    }

    // add project
    addProject.addEventListener('click', ()=>{
      const t = document.getElementById('projTitle').value.trim();
      const d = document.getElementById('projDesc').value.trim();
      if(!t) return alert('Add project title');
      projects.push({title:t,desc:d});
      document.getElementById('projTitle').value=''; document.getElementById('projDesc').value='';
      renderLists(); updatePreview();
    });

    addCert.addEventListener('click', ()=>{
      const n = document.getElementById('certName').value.trim();
      const o = document.getElementById('certOrg').value.trim();
      if(!n) return alert('Add certification name');
      certs.push({name:n,org:o});
      document.getElementById('certName').value=''; document.getElementById('certOrg').value='';
      renderLists(); updatePreview();
    });

    addRef.addEventListener('click', ()=>{
      const n = document.getElementById('refName').value.trim();
      const p = document.getElementById('refPos').value.trim();
      if(!n) return alert('Add reference name');
      refs.push({name:n,pos:p});
      document.getElementById('refName').value=''; document.getElementById('refPos').value='';
      renderLists(); updatePreview();
    });

    function renderLists(){
      projectsList.innerHTML=''; certList.innerHTML=''; refList.innerHTML='';
      projects.forEach((p,i)=> createListItem(projectsList, p.title + (p.desc? ' — '+p.desc : ''), i, (idx)=>{projects.splice(idx,1); renderLists(); updatePreview();}));
      certs.forEach((c,i)=> createListItem(certList, c.name + (c.org? ' — '+c.org : ''), i, (idx)=>{certs.splice(idx,1); renderLists(); updatePreview();}));
      refs.forEach((r,i)=> createListItem(refList, r.name + (r.pos? ' — '+r.pos : ''), i, (idx)=>{refs.splice(idx,1); renderLists(); updatePreview();}));
    }

    // live update
    fields.forEach(f=>{
      const el = document.getElementById(f);
      if(!el) return;
      el.addEventListener('input', updatePreview);
    });

    // photo
    photoInput.addEventListener('change', (e)=>{
      const file = e.target.files[0];
      if(!file) return;
      const reader = new FileReader();
      reader.onload = ()=>{
        avatarImg.src = reader.result; avatarImg.style.display='block'; avatarIcon.style.display='none';
      };
      reader.readAsDataURL(file);
    });

    // toggle theme
    document.getElementById('toggleTheme').addEventListener('click', ()=>{
      dark = !dark; const resume = document.getElementById('resume');
      resume.classList.toggle('darkResume', dark);
    });

    document.getElementById('clearAll').addEventListener('click', ()=>{
      if(!confirm('Clear all fields and lists?')) return;
      fields.forEach(f=>{ const el = document.getElementById(f); if(el) el.value=''; });
      projects=[]; certs=[]; refs=[]; avatarImg.src=''; avatarImg.style.display='none'; avatarIcon.style.display='block'; renderLists(); updatePreview();
    });

    function safeText(s, fallback='-'){ return s && s.trim()? s : fallback }

    function updatePreview(){
      rName.textContent = safeText(document.getElementById('name').value, 'Your Name');
      rRole.textContent = safeText(document.getElementById('title').value, 'Professional Title');
      const em = document.getElementById('email').value.trim();
      const ph = document.getElementById('phone').value.trim();
      rContact.textContent = (em || ph) ? [em,ph].filter(Boolean).join(' • ') : 'you@example.com • +91 98765 43210';
      rSummary.textContent = safeText(document.getElementById('summary').value, 'Short professional summary appears here.');
      rEducation.innerHTML = document.getElementById('education').value.split('\n').map(l=> '<div>'+ (l||'') +'</div>').join('') || '—';

      // skills
      const skills = (document.getElementById('skills').value||'').split(',').map(s=>s.trim()).filter(Boolean);
      rSkills.innerHTML=''; if(skills.length){ skills.forEach(s=>{ const sp=document.createElement('span'); sp.className='skill-pill'; sp.textContent=s; rSkills.appendChild(sp); }) } else { rSkills.innerHTML='<div class="meta">—</div>' }

      // languages
      const langs = (document.getElementById('languages').value||'').split(',').map(s=>s.trim()).filter(Boolean);
      rLanguages.textContent = langs.length? langs.join(', ') : '—';

      // projects
      rProjects.innerHTML = projects.length? projects.map(p=> '<div><strong>'+p.title+'</strong><div style="color:#4b5563">'+ (p.desc||'') +'</div></div>').join('') : '<div class="meta">—</div>';

      // certs
      rCerts.innerHTML = certs.length? certs.map(c=> '<div>'+ c.name + (c.org? ' — '+c.org : '') +'</div>').join('') : '<div class="meta">—</div>';

      // achievements
      rAchievements.innerHTML = (document.getElementById('achievements').value||'').split('\n').map(l=> l? '<div>'+l+'</div>' : '').join('') || '<div class="meta">—</div>';

      // refs
      rRefs.innerHTML = refs.length? refs.map(r=> '<div>'+ r.name + (r.pos? ' — '+r.pos : '') +'</div>').join('') : '<div class="meta">—</div>';

      rHobbies.textContent = (document.getElementById('hobbies').value||'-');
    }

    // initial render
    renderLists(); updatePreview();

    // PDF generation
    const { jsPDF } = window.jspdf;
    document.getElementById('downloadPdf').addEventListener('click', async ()=>{
      const btn = document.getElementById('downloadPdf');
      btn.textContent = 'Generating...'; btn.disabled=true;
      updatePreview();
      const resumeEl = document.getElementById('resume');
      try{
        const canvas = await html2canvas(resumeEl, { scale:2, useCORS:true, backgroundColor: null });
        const imgData = canvas.toDataURL('image/png');
        const pdf = new jsPDF({unit:'pt',format:'a4'});
        const pageWidth = pdf.internal.pageSize.getWidth();
        const pageHeight = pdf.internal.pageSize.getHeight();
        const margin = 20;
        const imgWidth = pageWidth - margin*2;
        const ratio = canvas.width / canvas.height;
        const imgHeight = imgWidth / ratio;
        pdf.addImage(imgData,'PNG',margin,margin,imgWidth,imgHeight);
        // handle multi-page
        if(imgHeight > pageHeight - margin*2){
          let remaining = canvas.height - (canvas.width / imgWidth) * (pageHeight - margin*2);
          let position = pageHeight - margin - ((canvas.width / imgWidth) * (pageHeight - margin*2));
          // naive multi-page not perfect but works for most
          // For long resumes you'd slice canvas and add pages (omitted for brevity)
        }
        const name = (document.getElementById('name').value || 'resume').trim().replace(/\s+/g,'_');
        pdf.save(name + '.pdf');
      }catch(err){ console.error(err); alert('PDF generation failed: '+ err.message) }
      btn.textContent='Download PDF'; btn.disabled=false;
    });

    // live typing: also update preview on keyup for dynamic inputs
    ['projTitle','projDesc','certName','certOrg','refName','refPos'].forEach(id=>{ const e=document.getElementById(id); if(e) e.addEventListener('keyup', ()=>{}); });

  </script></body>
</html>